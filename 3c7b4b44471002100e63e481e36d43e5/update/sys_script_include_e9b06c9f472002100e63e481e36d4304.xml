<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_script_include">
    <sys_script_include action="INSERT_OR_UPDATE">
        <access>package_private</access>
        <active>true</active>
        <api_name>x_540166_apl.CheckLoggedInTeams </api_name>
        <caller_access/>
        <client_callable>true</client_callable>
        <description/>
        <name>CheckLoggedInTeams </name>
        <script><![CDATA[var CheckLoggedInTeams = Class.create();
CheckLoggedInTeams.prototype = Object.extendsObject(global.AbstractAjaxProcessor, {
  
  // Function to check if the specific team is logged in
  checkIfTeamLoggedIn: function(teamId) {
    var teamTable = new GlideRecord('x_540166_apl_apl_check_logged_in_teams');
    teamTable.addQuery('team_id', teamId);
    teamTable.query();

    var isTeamLoggedIn = teamTable.hasNext();

	gs.info("MR script include info - Team logged in: " + isTeamLoggedIn);

    return isTeamLoggedIn;
  },

  // Function to check if all teams have logged in
  checkAllTeamsLoggedIn: function() {
    var teamTable = new GlideRecord('x_540166_apl_apl_check_logged_in_teams');
    teamTable.query();

    var teamsTotal = new GlideRecord('x_540166_apl_team_table');
    teamsTotal.query();

    var allTeamsLoggedIn = (teamTable.getRowCount() == teamsTotal.getRowCount()) ;

    gs.info("MR script include info - All teams logged in???: " + allTeamsLoggedIn);
    // Return a boolean value directly
    return allTeamsLoggedIn;
  },

  type: 'CheckLoggedInTeams'
});
]]></script>
        <sys_class_name>sys_script_include</sys_class_name>
        <sys_created_by>maulik</sys_created_by>
        <sys_created_on>2024-02-29 05:47:01</sys_created_on>
        <sys_id>e9b06c9f472002100e63e481e36d4304</sys_id>
        <sys_mod_count>18</sys_mod_count>
        <sys_name>CheckLoggedInTeams </sys_name>
        <sys_package display_value="APL " source="x_540166_apl">3c7b4b44471002100e63e481e36d43e5</sys_package>
        <sys_policy/>
        <sys_scope display_value="APL ">3c7b4b44471002100e63e481e36d43e5</sys_scope>
        <sys_update_name>sys_script_include_e9b06c9f472002100e63e481e36d4304</sys_update_name>
        <sys_updated_by>maulik</sys_updated_by>
        <sys_updated_on>2024-03-05 08:52:18</sys_updated_on>
    </sys_script_include>
</record_update>
