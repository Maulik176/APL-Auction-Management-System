<?xml version="1.0" encoding="UTF-8"?><record_update table="sp_widget">
    <sp_widget action="INSERT_OR_UPDATE">
        <category>custom</category>
        <client_script><![CDATA[api.controller=function() {
  /* widget controller */
  var c = this;
  c.togglePlayers1 = function(){
    var playerList = document.getElementById('playerList1');
    var playersBox = document.querySelector('.players-box');
	
    // Toggle the 'open' class on the players-box
    if (playersBox.classList.contains('open')) {
      playersBox.classList.remove('open');
      // Clear the player list when the box is closed
      playerList.innerHTML = '';
    } else {
      playersBox.classList.add('open');
      // Replace this with your actual player names
      var sold = c.data.sold;
      playerList.innerHTML = sold.map(function (name) {
        return '<li>' + name + '</li>';
      }).join('');
    }
  }
  c.togglePlayers2 = function(){
    var playerList = document.getElementById('playerList2');
    var playersBox = document.querySelector('.players-team');

    // Toggle the 'open' class on the players-box
    if (playersBox.classList.contains('open')) {
      playersBox.classList.remove('open');
      // Clear the player list when the box is closed
      playerList.innerHTML = '';
    } else {
      playersBox.classList.add('open');
      // Replace this with your actual player names
      //var dummyNames = ['Player 1', 'Player 2', 'Player 3', 'Player 4', 'Player 5','Player 6'];
      var team=c.data.myteam;
			playerList.innerHTML = c.data.myteam.map(function (name) {
        return '<li>' + name + '</li>';
      }).join('');
    }
  }

	
	  c.togglePlayers3 = function(){
    var playerList = document.getElementById('playerList3');
    var playersBox = document.querySelector('.players-rem');

    // Toggle the 'open' class on the players-box
    if (playersBox.classList.contains('open')) {
      playersBox.classList.remove('open');
      // Clear the player list when the box is closed
      playerList.innerHTML = '';
    } else {
      playersBox.classList.add('open');
      // Replace this with your actual player names
      var unsold = c.data.unsold;
      playerList.innerHTML = unsold.map(function (name) {
        return '<li>' + name + '</li>';
      }).join('');
    }
  }

  
}
]]></client_script>
        <controller_as>c</controller_as>
        <css>
*{
  font-family: 'Poppins', sans-serif;
}
.sidebar-widget {
  width: 100%;
  /* height: 100vh; */
  border: 5px solid #ddd;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
  border-radius: 10px;
  overflow: hidden;
}

#apl-im {
  text-align: center;
  padding: 10px;
}

#apl-image {
  max-width: 80%;
  height: auto;
  border-radius: 5px; 
}


.title-container {
  text-align: center;
}

.title-container h1 {
  font-size: 2.5em;
  color: #007965;
}


.accordion {
  width: 100%;
  height: 100%
  margin-top: 2px;
}


.accordion div {
  width: 80%;
  margin: 0 auto;
  border: 5px solid #ddd;
  margin-bottom: 10px;
  transition: background-color 0.3s, color 0.3s; 
  
  //maulik
  //position: relative;
  //z-index: 1;
  background-color: #fff; 
  border-radius: 10px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); 
  
}


.accordion div h4 {
  padding: 15px;
  margin: 0;
  cursor: pointer;
  text-align:center;
}


.accordion div ul {
  list-style-type: none;
  padding: 0;
  display: none;
  text-align: center;
  
}

.accordion div:hover {
  background-color: #007965;
  color: #fff;
}


.accordion div.open ul {
  display: block;
  
}

.accordion div.open {
  background-color: #007965;
  //background-color: #00564d;
  color: #fff;
}
</css>
        <data_table>sp_instance</data_table>
        <demo_data/>
        <description/>
        <docs/>
        <field_list/>
        <has_preview>true</has_preview>
        <id>apl_accordion</id>
        <internal>false</internal>
        <link><![CDATA[function link(scope, element, attrs, controller) {  }]]></link>
        <name>APL_accordion</name>
        <option_schema/>
        <public>false</public>
        <roles/>
        <script><![CDATA[(function() {
  /* populate the 'data' object */
  /* e.g., data.table = $sp.getValue('table'); */
	data.sold=[]
	data.myteam=[]
	data.unsold=[]
	
	//var id=localStorage.getItem("user_id");
var tid = $sp.getParameter('team_id');
	var team_data = new GlideRecord('x_540166_apl_team_table');
	team_data.addQuery('sys_id', tid);
	team_data.query();
	while(team_data.next()){
	 data.teamname=team_data.getValue('team_name');
	}
	
	/*while(gr.next()){
		if(gr.getValue('team_name')=='None'){
			data.image=gr.getValue('image');
		}*/
		/*else if(gr.getValue('sys_id')==id){
			data.teamname=gr.getValue('team_name');
		}}*/
	
var gr1=new GlideRecord("x_540166_apl_apl_player_table");
	gr1.addQuery()
	gr1.query();
	
	while(gr1.next()){
		var x=gr1.getValue('u_status');
		var y=gr1.getValue('u_team_name');
		//console.log(tid==y);
		var name = gr1.getValue('u_name')
		
		if(x=='sold'){
			data.sold.push(name);
			if(y==tid){data.myteam.push(name);}
			
		}
		else{
			data.unsold.push(name);
		}
	}
	

})();]]></script>
        <servicenow>false</servicenow>
        <sys_class_name>sp_widget</sys_class_name>
        <sys_created_by>vandan</sys_created_by>
        <sys_created_on>2024-02-13 17:04:06</sys_created_on>
        <sys_id>ed53a01e475802100e63e481e36d43a2</sys_id>
        <sys_mod_count>114</sys_mod_count>
        <sys_name>APL_accordion</sys_name>
        <sys_package display_value="APL " source="x_540166_apl">3c7b4b44471002100e63e481e36d43e5</sys_package>
        <sys_policy/>
        <sys_scope display_value="APL ">3c7b4b44471002100e63e481e36d43e5</sys_scope>
        <sys_update_name>sp_widget_ed53a01e475802100e63e481e36d43a2</sys_update_name>
        <sys_updated_by>vandan</sys_updated_by>
        <sys_updated_on>2024-02-20 07:30:30</sys_updated_on>
        <template><![CDATA[
 <div class="sidebar-widget">
   <div id="apl-im">
<img ng-src="{{::c.data.image + '.iix'}}" alt="HI" id="apl-image">
</div>
<div class="title-container">
  <h1>AUCTIONS 2024</h1>
</div>
  
 <div class="accordion">
  <div class="players-box" ng-click="c.togglePlayers1()">
    <h4>Players Sold</h4>
    <ul id="playerList1">
      <!--Your player names will be dynamically added here -->
  </ul>
  </div>
</div>
   
<div class="accordion">
  <div class="players-team" ng-click="c.togglePlayers2()">
    <h4>My Team</h4>
    <ul id="playerList2">
      <!-- Your player names will be dynamically added here -->
  </ul>
  </div>
</div>
   
<div class="accordion">
  <div class="players-rem" ng-click="c.togglePlayers3()">
    <h4>Remaining Players</h4>
    <ul id="playerList3">
      <!-- Your player names will be dynamically added here -->
   </ul>
  </div>
</div>
    
  </div>








]]></template>
    </sp_widget>
</record_update>
